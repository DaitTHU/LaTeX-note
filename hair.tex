\documentclass[a4paper, 11pt]{article}

\usepackage[UTF8]{ctex}

\usepackage[T1]{fontenc}								% å­—ä½“
\catcode`\ã€‚=\active
\newcommand{ã€‚}{ï¼} % {\ifmmode\text{ï¼}\else ï¼\fi}
\catcode`\ï¼ˆ=\active
\catcode`\ï¼‰=\active
\newcommand{ï¼ˆ}{(}
\newcommand{ï¼‰}{)}

% \usepackage{zhlineskip}

\usepackage{nicematrix}
% \usepackage{setspace}
% \linespread{1}						% ä¸€å€è¡Œè·
\setlength{\headheight}{14pt}			% é¡µçœ‰é«˜åº¦
% \setlength{\lineskip}{0ex}			% è¡Œè·
\renewcommand\arraystretch{.82}		% è¡¨æ ¼

\usepackage{amssymb, amsmath, amsfonts, amsthm}			% æ•°å­¦ç¬¦å·ï¼Œå…¬å¼ï¼Œå­—ä½“ï¼Œå®šç†ç¯å¢ƒ
\everymath{\displaystyle}			% \textstyle \scriptstyle \scriptscriptstyle
\allowdisplaybreaks[4]      		% ä½¿ç”¨è¡Œé—´å…¬å¼æ ¼å¼
% \makeatletter
% \renewcommand{\maketag@@@}[1]{\hbox{\m@th\normalsize\normalfont#1}}
% \makeatother
\newif\ifcontent\contenttrue		% if æ˜¾ç¤ºç›®å½•
\newif\ifparskip\parskipfalse		% if å¢åŠ ç›®å½•åçš„è¡Œè·
\newif\ifshowemail\showemailfalse	% if æ˜¾ç¤º email
\def\firstandforemost{
	\maketitle
	%\thispagestyle{empty}\clearpage
	\ifcontent
		\renewcommand{\contentsname}{ç›®å½•}
		\tableofcontents
		\thispagestyle{empty}
		\clearpage
	\fi
	\ifparskip
		\setlength{\parskip}{.8ex}	% è®¾ç½®é¢å¤–çš„æ®µè·ï¼Œç›®å½•å
	\fi								% åœ¨ \firstandforemost å‰è®¾ç½® \parskiptrue
	\makenomenclature
	\printnomenclature
	\setcounter{page}{1}
}

\usepackage{mathtools}									% \rcase ç¯å¢ƒç­‰

% \usepackage{physics}

\usepackage[]{siunitx}									% å›½é™…åˆ¶å•ä½
\sisetup{
	inter-unit-product = \ensuremath{{}\cdot{}},
	per-mode = symbol,
	per-mode = reciprocal-positive-first,
	range-units = single,
	separate-uncertainty = true,
	range-phrase = \ifmmode\text{\;-\;}\else\;-\;\fi
}
\DeclareSIUnit\angstrom{\text{Ã…}}
\DeclareSIUnit\atm{\text{atm}}
% SIunits é¢å¤–å®šä¹‰äº†ä¸€ä¸ª \square è¡¨ç¤ºå¹³æ–¹ï¼Œ
% è¿˜ä¼šæŠŠ \cdot ç©ºæ ¼åŠ å¤§ï¼ŒçœŸæœ‰å¤Ÿæ— è¯­çš„ ğŸ˜…

\usepackage{authblk}									% ä½œè€…ä»‹ç»
\ifx \coursefullname\undefined
	\ifx \coursename\undefined
		\def\coursename{ç¬”è®°}
	\fi
	\def\coursefullname{\coursename}
\fi
\ifx \authorname\undefined
	\def\authorname{Dait}
\fi
\ifx \departmentname\undefined
	\def\departmentname{DEP 00, THU}
\fi
\ifx \emailaddress\undefined
	\def\emailaddress{daiyj20@mails.tsinghua.edu.cn}
\fi
\ifx \beginday\undefined
	\def\beginday{2021}
\fi
\ifx \endday\undefined
	\def\endday{\number\year/\number\month/\number\day}
\fi
\ifx \titleannotation\undefined
	\ifx \teachername\undefined
		\title{\textbf{\coursefullname}}
	\else
		\title{\textbf{\coursefullname}\\\small\textit{ä¸»è¦æ•´ç†è‡ª\teachername è€å¸ˆè®²ä¹‰}}
	\fi
\else
	\title{\textbf{\coursefullname}\\\small\textit{(\titleannotation)}}
\fi
\newif\ifdefaultauthor\defaultauthortrue
\ifdefaultauthor
	\author{by~\authorname~at~\departmentname}
	\ifshowemail
		\affil{\emailaddress}
	\fi
\fi
\ifx \endday\beginday
	\date{\beginday}
\else
	\date{\beginday~-~\endday}
\fi

\usepackage{hyperref}									% é“¾æ¥
\ifx \courseEnglishname\undefined
	\def\courseEnglishname{Note}
\fi
\ifx \authorEnglishname\undefined
	\def\authorEnglishname{Dait}
\fi
\hypersetup{
	% dvipdfm								% è¡¨ç¤ºç”¨ dvipdfm ç”Ÿæˆ pdf
	pdftitle={\coursename},
	pdfauthor={\authorname},
	colorlinks=true, breaklinks=true,		% è¶…é“¾æ¥è®¾ç½®
	linkcolor=black, citecolor=black, urlcolor=blue
}

\usepackage[british]{babel}								% é•¿å•è¯è‡ªåŠ¨è¿å­—ç¬¦æ¢è¡Œ
\hyphenation{long-sen-ten-ce}				% è‡ªå®šä¹‰æ‹†åˆ†æ–¹å¼

\usepackage{tikz}
\usetikzlibrary{quotes, angles}
\usepackage{pgfplots}
\pgfplotsset{compat=1.17}								% TikZ
\newcommand{\coor}[5][0]{
	\draw[thick,latex-latex](#1,#3)node[left]{$#5$}--(#1,0)node[shift={(-135:7pt)}]{$O$}--(#1+#2,0)node[right]{$#4$}
}			% åæ ‡è½´

\usepackage{enumerate}									% ç¼–å·
\usepackage{paralist}
\setlength{\pltopsep}{1ex}
\setlength{\plitemsep}{1ex}
\ifx \eqnrange\undefined
	\numberwithin{equation}{section}
\else
	\numberwithin{equation}{\eqnrange}
\fi

\renewcommand{\thempfootnote}{\Roman{mpfootnote}}
\renewcommand{\thefootnote}{\Roman{footnote}}		% æ³¨é‡Šä¸Šæ ‡ I, II,...
\newcommand{\sectionstar}[1]{
	\section[\hspace{-.8em}*\hspace{.3em}#1]{\hspace{-1em}*\hspace{.5em}#1}
}
\newcommand{\subsectionstar}[1]{					% å¸¦æ˜Ÿå·çš„ section å’Œ subsection
	\subsection{\hspace{-1em}*\hspace{.5em}#1}
}
\newcommand{\subsubsectionstar}[1]{					% å¸¦æ˜Ÿå·çš„ section å’Œ subsection
	\subsubsection{\hspace{-1em}*\hspace{.5em}#1}
}
\newcommand*{\appendiks}{
	\appendix
	\part*{é™„å½•}
	\addcontentsline{toc}{part}{é™„å½•}
}
\iffalse			% ä¸æ¸…æ¥š
	\newcommand{\varsection}[1]{
		\refstepcounter{section}
		\section*{\thesection\quad #1}
		\addcontentsline{toc}{section}{\makebox[0pt][r]{*}\thesection\quad #1}
	}
\fi

\usepackage{fancyhdr}									% é¡µçœ‰é¡µè„š
\ifx \coursename\undefined
	\def\coursename{ç¬”è®°}
\fi
\fancyhf{}\pagestyle{fancy}
\fancyhead[L]{\coursename\rightmark}
\fancyhead[R]{by~\authorname}
\fancyfoot[C]{-~\thepage~-} 			%é¡µç 

\usepackage{colortbl, booktabs}							% è¡¨

\usepackage{graphicx}
\usepackage{float}
\usepackage{caption}									% å›¾
\captionsetup{
	margin=20pt, format=hang,
	justification=justified
}
\newcounter{tikzpic}
\def\tikzchap{
	\stepcounter{tikzpic}\\
	\small å›¾~\thetikzpic\quad
}
\newcounter{linetable}
\newcommand{\tablechap}[1]{
	\stepcounter{linetable}
	{\small è¡¨~\thelinetable\quad #1}\\[1em]
}

\usepackage{tcolorbox}									% ç›’å­
\tcbuselibrary{theorems, skins, breakable}
\definecolor{MatchaGreen}{HTML}{73C088}		% æŠ¹èŒ¶ç»¿B7C6B3
\newtcbtheorem[number within = subsection]{example}{ä¾‹}{
	enhanced, breakable, sharp corners,
	attach boxed title to top left = {yshifttext = -1mm},
	before skip = 2ex,
	colback = MatchaGreen!5,				% æ–‡æœ¬æ¡†å†…çš„åº•è‰²
	colframe = MatchaGreen,					% æ–‡æœ¬æ¡†æ¡†æ²¿çš„é¢œè‰²
	fonttitle = \bfseries,					% æ ‡é¢˜å­—ä½“ç”¨ç²—ä½“	coltitle é»˜è®¤ white,
	boxed title style = {
			sharp corners, size = small, colback = MatchaGreen,
		}
}{exm}
\definecolor{MelancholyBlue}{HTML}{9EAABA}	% melancholy: æ²®ä¸§
\newcounter{pslt}
\setcounter{pslt}{-1}
\newtcbtheorem[use counter = pslt]{posulate}{å‡è®¾}{
	enhanced, breakable, sharp corners,
	attach boxed title to top left = {yshifttext = -1mm}, before skip = 2ex,
	colback = MelancholyBlue!5, colframe = MelancholyBlue, fonttitle = \bfseries,
	boxed title style = {
			sharp corners, size = small, colback = MelancholyBlue,
		}
}{psl}
\definecolor{PureBlue}{HTML}{80A3D0}
\newtcbtheorem[number within = subsection]{definition}{å®šä¹‰}{
	enhanced, breakable, sharp corners,
	attach boxed title to top left = {yshifttext = -1mm}, before skip = 2ex,
	colback = PureBlue!5, colframe = PureBlue, fonttitle = \bfseries,
	boxed title style = {
			sharp corners, size = small, colback = PureBlue,
		}
}{dfn}
\definecolor{PeachRed}{HTML}{EA868F}
\newtcbtheorem[number within = subsection]{theorem}{å®šç†}{
	enhanced, breakable, sharp corners,
	attach boxed title to top left = {yshifttext = -1mm}, before skip = 2ex,
	colback = PeachRed!5, colframe = PeachRed, fonttitle = \bfseries,
	boxed title style = {
			sharp corners, size = small, colback = PeachRed,
		}
}{thm}
\definecolor{SchembriumYellow}{HTML}{fbd26a}	% ç”³åšå¤ªé˜³åŸé»„
\newtcbtheorem[number within = section]{method}{æ–¹æ³•}{
	enhanced, breakable, sharp corners,
	attach boxed title to top left = {yshifttext = -1mm}, before skip = 2ex,
	colback = SchembriumYellow!5, colframe = SchembriumYellow, fonttitle = \bfseries,
	boxed title style = {
			sharp corners, size = small, colback = SchembriumYellow,
		}
}{mtd}
% ä¿ç•™é¢œè‰²
\definecolor{fadedgold}{HTML}{D9CBB0}		% è¤ªè‰²é‡‘
\definecolor{saturatedgold}{HTML}{F0E0C2}	% staurated: é¥±å’Œ
\definecolor{elegantblue}{HTML}{C4CCD7}		% elegant: ä¼˜é›…
\definecolor{ivory}{HTML}{F1ECE6}			% è±¡ç‰™
\definecolor{gloomypruple}{HTML}{CCC1D2}	% é˜´æ²‰ç´«
% \textcolor[HTML]{FFC23A}					% çŸ³æ¿ç°

\definecolor{Green}{rgb}{0,.8,0}

\usepackage{imakeidx}								% ç´¢å¼•

\usepackage{nomencl}								% å…³é”®è¯
%\setlength{\nomitemsep}{0.2cm}							% è®¾ç½®æœ¯è¯­ä¹‹é—´çš„é—´è·
\renewcommand{\nomentryend}{.}							% è®¾ç½®æ‰“å°å‡ºæœ¯è¯­çš„ç»“å°¾çš„å­—ç¬¦
\renewcommand{\eqdeclaration}[1]{è§å…¬å¼:(#1)}			% è®¾ç½®æ‰“å°è§å…¬å¼çš„æ ·å¼
\renewcommand{\pagedeclaration}[1]{è§ç¬¬ (#1) é¡µ}		% è®¾ç½®æ‰“å°é¡µçš„æ ·å¼
\renewcommand{\nomname}{æœ¯è¯­è¡¨} 						% ä¿®æ”¹æœ¯è¯­è¡¨æ ‡é¢˜çš„åç§°ã€‚

\usepackage{array}
\usepackage{booktabs} % ä¸‰çº¿è¡¨
\usepackage{multirow}