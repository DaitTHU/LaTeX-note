\theoremstyle{definition}
\newtheorem*{corollary}{推论}
\newtheorem*{remark}{注}
\newtheorem*{lemma}{引理}

\newcommand*{\qqquad}{\qquad\quad}
\newcommand*{\qqqquad}{\qquad\qquad}

\let\geq\geqslant
\let\leq\leqslant
\newcommand*{\avg}[1]{\overline{#1}}
\newcommand*{\vs}{~\text{-}~}
\newcommand{\fracdisp}[2]{\frac{\displaystyle #1}{\displaystyle #2}}

% 正体符号
\newcommand*{\const}{\mathrm{const}}
\newcommand*{\otherwise}{\mathrm{otherwise}}
\newcommand*{\plusc}{{\color{lightgray}\,+\,\const}}
\newcommand*{\e}{\mathop{}\!\mathrm{e}^}  % exp
\let\accenti\i
\renewcommand*{\i}{\mathrm{i}}
\newcommand*{\D}{\Delta}
\newcommand*{\p}{\partial}

\usepackage{bm}
\newcommand{\hatbm}[1]{\hat{\bm{#1}}}  % bm with hat, maybe Fourier Transform
\newcommand{\nvec}[1]{\hat{\bm{#1}}}  % normalized vector, without space
\newcommand{\uvec}[1]{\mathop{}\!\nvec{#1}}  % unit vector, with possible space
\newcommand{\dotbm}[1]{\dot{\bm{#1}}}

\usepackage{mathrsfs}  % \mathscr
% \usepackage{boondox-cal}  % \mathcal

\newcommand*{\RR}{\mathbb R}
\newcommand*{\CC}{\mathbb C}
\newcommand*{\ZZ}{\mathbb Z}
\newcommand*{\NN}{\mathbb N}

% \newcommand*{\cL}{\mathcal L}  % linear operator
% \newcommand{\cl}[1]{\mathcal L\fkh{#1}}
% \newcommand{\cli}[1]{\mathcal L^{-1}\!\fkh{#1}}
% \newcommand{\cf}[2][{}]{\mathcal F_{\mathrm{#1}}\fkh{#2}}
% \newcommand{\cfi}[2][{}]{\mathcal F_{\mathrm{#1}}^{-1}\!\fkh{#2}}

\usepackage{cancel}% 删除线

\usepackage{xfrac}

% \usepackage{emoji}  % LuaTeX needed

% 导数等
\let\divides\div
\renewcommand*{\div}{\nabla\cdot}
\newcommand*{\curl}{\nabla\times}

\let\accentd\d
\renewcommand*{\d}{\mathop{}\!\mathrm{d}}
\newcommand*{\nd}{\mathrm{d}}
\newcommand*{\vd}{\mathop{}\!\delta}  % δ
\newcommand{\dd}[2][{}]{\frac{\nd^{#1}}{\nd{#2}^{#1}}}  % d/dx我知道 \,\! 很愚蠢，但是 {} 无法在 Math Preview 上预览
% \newcommand{\dn}[2]{\frac{\nd^{#1}}{\nd #2^{#1}}}  % d^n/dx^n\dn2x≡\dd[2]x
\newcommand{\dv}[3][{}]{\frac{\nd^{#1}#2}{\nd{#3}^{#1}}}  % df/dx
% \newcommand{\du}[3]{\frac{\nd^{#1}#2}{\nd #3^{#1}}}  % d^nf/dx^n\du2fx≡\dv[2]fx
\newcommand{\pp}[2][{}]{\frac{\p^{#1}}{\p{#2}^{#1}}}  % ∂/∂x
% \newcommand{\pn}[2]{\frac{\p^{#1}}{\p #2^{#1}}}  % ∂^n/∂x^n\pn2x≡\pp[2]x
\newcommand{\pv}[3][{}]{\frac{\p^{#1}#2}{\p{#3}^{#1}}}  % ∂f/∂x
% \newcommand{\pu}[3]{\frac{\p^{#1}#2}{\p #3^{#1}}}  % ∂^nf/∂x^n\pu2x≡\pv[2]x
\newcommand{\pw}[3]{\frac{\p^2{#1}}{\p{#2}\p{#3}}}  % ∂^2f/∂x∂y
\newcommand{\dvd}[2]{\left.{#1}\middle/{#2}\right.}

% 积分
\newcommand*{\zti}{_0^{+\infty}}
\newcommand*{\iti}{_{-\infty}^{+\infty}}
\newcommand*{\toinf}{{\to\infty}}

% \newcommand{\ud}[2]{^{#1}{}_{#2}}
% \newcommand{\du}[2]{_{#1}{}^{#2}}

% 括号
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}% |x| 绝对值
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}% ||x|| 模
\newcommand{\edg}[1]{\left.#1\right\rvert}% f|  竖线
\newcommand{\kh}[1]{\left(#1\right)}% (x) 括号
\newcommand{\bigkh}[1]{\bigl(#1\bigr)}
\newcommand{\Bigkh}[1]{\Bigl(#1\Bigr)}
\newcommand{\biggkh}[1]{\biggl(#1\biggr)}
\newcommand{\fkh}[1]{\left[#1\right]}% [x] 方括号
\newcommand{\bigfkh}[1]{\bigl[#1\bigr]}
\newcommand{\Bigfkh}[1]{\Bigl[#1\Bigr]}
\newcommand{\biggfkh}[1]{\biggl[#1\biggr]}
\newcommand{\hkh}[1]{\left\{#1\right\}}% {x} 花括号
\newcommand{\floor}[1]{\left\lfloor#1\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil#1\right\rceil}
\newcommand{\set}[2]{\left\{#1\,\middle\vert\,#2\right\}}% {x|x1,x2,...} 集合
\newcommand{\ave}[1]{\left\langle #1\right\rangle}% <x> 平均值
\newcommand{\bra}[1]{\left\langle #1\right\vert}% <ψ| 左矢
\newcommand{\ket}[1]{\left\vert #1\right\rangle}% |ψ> 右矢
\newcommand{\brkt}[2]{\left\langle #1\middle\vert #2\right\rangle}% <φ|ψ> 内积
\newcommand{\ktbr}[2]{\left\vert#1\right\rangle\hspace{-3pt}\left\langle #2\right\vert}% |ψ><φ|
% \newcommand{\inp}[2]{\left\langle #1,#2\right\rangle}% <f,g> 内积

\newcommand{\nnorm}[1]{\lVert#1\rVert}
\newcommand{\nset}[2]{\{#1\,|\,#2\}}

% 数学运算符
\let\Real\Re
\let\Imaginary\Im
\let\Re\relax
\let\Im\relax
\DeclareMathOperator{\Re}{Re}  % real part
\DeclareMathOperator{\Im}{Im}  % imaginary part
\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\csch}{csch} 
\DeclareMathOperator{\arcsec}{arcsec}
\DeclareMathOperator{\arccot}{arccot} 
\DeclareMathOperator{\arccsc}{arccsc} 
\DeclareMathOperator{\arsinh}{arsinh} 
\DeclareMathOperator{\arcosh}{arcosh} 
\DeclareMathOperator{\artanh}{artanh} 
\DeclareMathOperator{\sgn}{sgn}  % 符号函数
\DeclareMathOperator{\Li}{Li}% 
\DeclareMathOperator{\Si}{Si}
\DeclareMathOperator{\Ci}{Ci}
\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\Heaviside}{H}
\DeclareMathOperator{\arr}{A}% 排列数
\DeclareMathOperator{\com}{C}% 组合数
\DeclareMathOperator{\Res}{Res}% 留数
\DeclareMathOperator{\supp}{supp}% 支撑集
\DeclareMathOperator{\Int}{Int}% 内部
\DeclareMathOperator{\Ext}{Ext}% 外部
\newcommand*{\bigo}{\mathcal O}
\newcommand*{\degree}{^\circ}

% 线性代数
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\diag}{diag}
\newcommand*{\tp}{^\top}  % A^T 转置
\newcommand*{\cj}{^\ast}  % A^* 共轭
\newcommand*{\dg}{^\dagger}  % A^† 共轭转置
\newcommand*{\iv}{^{-1}}  % A^-1

% 物理学家
\newcommand*{\Schr}{Schrödinger}
\newcommand*{\Legd}{Legendre}
\newcommand*{\deB}{de Broglie}
\newcommand*{\Rayl}{Rayleigh}
\newcommand*{\Lande}{Landé}

% 粒子
\newcommand*{\elc}{\mathrm e}
\newcommand*{\pton}{\mathrm p}
\newcommand*{\nton}{\mathrm n}
\newcommand*{\mol}{\mathrm m}

% 物理常数
\newcommand*{\NA}{N_{\mathrm A}}% Avogadro 常数
\newcommand*{\kB}{k_{\mathrm B}}% Boltzmann 常数
\newcommand*{\muB}{\mu_\mathrm B}% Bohr 磁矩

% 
\newcommand*{\Ek}{E_{\mathrm k}}% 动能
\newcommand*{\eff}{_\mathrm{eff}}% 有效下标
\newcommand*{\tot}{_\mathrm{tot}}
\newcommand*{\maxi}{_\mathrm{max}}
\newcommand*{\mini}{_\mathrm{min}}
\newcommand*{\lSI}{\tag{SI}}
\newcommand*{\CGS}{\tag{CGS}}% cm, g, s 制
\newcommand*{\FWHM}{\mathrm{FWHM}}


\newenvironment{equationset}{\left\{\begin{aligned}}{\end{aligned}\right.}